// 主题配置文件 - 基于 gemini-style-v2.txt 规范

// ================= 明亮风格 (Light / Enterprise) =================
:root {
  /* 核心颜色 */
  --el-color-primary: #3b82f6;
  --el-color-success: #10b981;
  --el-color-warning: #f59e0b;
  --el-color-danger: #ef4444;
  --el-color-info: #6b7280;

  /* 背景体系 */
  --el-bg-color: #f3f4f6;
  --el-bg-color-overlay: #ffffff;
  --el-bg-color-page: #f9fafb;

  /* 文字体系 */
  --el-text-color-primary: #111827;
  --el-text-color-regular: #374151;
  --el-text-color-secondary: #6b7280;

  /* 边框体系 */
  --el-border-color: #e5e7eb;
  --el-border-color-light: #f3f4f6;

  /* 自定义业务变量 */
  --app-card-radius: 8px;
  --app-shadow: 0 1px 3px rgba(0,0,0,0.1);
  --app-font-family: 'Inter', system-ui, sans-serif;
  --app-button-shape: 6px;
}

body {
  font-family: var(--app-font-family);
  transition: background-color 0.3s, color 0.3s;
}

// Element Plus 组件样式覆盖 - 默认主题
.el-card {
  border-radius: var(--app-card-radius);
  box-shadow: var(--app-shadow);
  background: var(--el-bg-color-overlay);
}

.el-button {
  border-radius: var(--app-button-shape);
}

.el-input__wrapper {
  background-color: #ffffff;
  border: 1px solid #d1d5db;

  &.is-focus {
    border-color: var(--el-color-primary);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
  }
}

.el-table {
  --el-table-header-bg-color: #f9fafb;
  --el-table-bg-color: #ffffff;
  --el-table-row-hover-bg-color: #f3f4f6;
  --el-table-border-color: var(--el-border-color);
}

// ================= 高科技风格 (Tech / Cyberpunk) =================
html.theme-tech {
  /* 核心色调：霓虹青 */
  --el-color-primary: #06b6d4;
  --el-color-success: #4ade80;
  --el-color-warning: #facc15;
  --el-color-danger: #f43f5e;

  /* 混合色 */
  --el-color-primary-light-3: rgba(6, 182, 212, 0.5);
  --el-color-primary-light-7: rgba(6, 182, 212, 0.2);
  --el-color-primary-light-9: rgba(6, 182, 212, 0.1);

  /* 背景体系：深空黑蓝 */
  --el-bg-color: #0b1120;
  --el-bg-color-overlay: rgba(30, 41, 59, 0.8);
  --el-bg-color-page: #0f172a;

  /* 文字体系：发光白与蓝灰 */
  --el-text-color-primary: #f8fafc;
  --el-text-color-regular: #cbd5e1;
  --el-text-color-secondary: #94a3b8;

  /* 边框体系：低透明度青色 */
  --el-border-color: rgba(6, 182, 212, 0.3);
  --el-border-color-light: rgba(6, 182, 212, 0.1);
  --el-border-color-lighter: rgba(6, 182, 212, 0.05);

  /* Element Plus fill tokens 覆盖 */
  --el-fill-color-blank: rgba(15, 23, 42, 0.6);
  --el-input-bg-color: rgba(15, 23, 42, 0.6);
  --el-select-dropdown-bg-color: #1a1f3a;
  --el-select-option-hover-bg-color: rgba(6, 182, 212, 0.1);

  /* 自定义业务变量 - 覆盖 */
  --app-card-radius: 2px;
  --app-shadow: 0 0 15px rgba(6, 182, 212, 0.15);
  --app-font-family: 'JetBrains Mono', 'Roboto', monospace;
  --app-button-shape: 0px;

  /* 1. 卡片 (El-Card) - 磨砂玻璃效果 */
  .el-card {
    background: var(--el-bg-color-overlay);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--el-border-color);
    box-shadow: var(--app-shadow);
    color: var(--el-text-color-primary);

    .el-card__header {
      border-bottom: 1px solid var(--el-border-color);
      text-transform: uppercase;
      letter-spacing: 1px;
      text-shadow: 0 0 5px rgba(6, 182, 212, 0.5);
    }
  }

  /* 浏览器兼容性降级 */
  @supports not (backdrop-filter: blur(10px)) {
    .el-card {
      background: #1e293b;
    }
  }

  /* 2. 表格 (El-Table) - 透明化与数据感 */
  .el-table {
    --el-table-bg-color: transparent;
    --el-table-tr-bg-color: transparent;
    --el-table-header-bg-color: rgba(6, 182, 212, 0.05);
    --el-table-border: 1px solid var(--el-border-color);
    --el-table-text-color: var(--el-text-color-regular);
    --el-table-header-text-color: var(--el-color-primary);

    th.el-table__cell {
      font-family: 'JetBrains Mono', monospace;
      font-weight: bold;
      letter-spacing: 1px;
    }

    /* 悬停行高亮 */
    .el-table__body tr:hover > td {
      background-color: rgba(6, 182, 212, 0.1) !important;
      box-shadow: inset 0 0 10px rgba(6, 182, 212, 0.2);
    }
  }

  /* 3. 按钮 (El-Button) - 辉光与直角 */
  .el-button {
    border-radius: var(--app-button-shape);
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease;
  }

  .el-button--primary {
    box-shadow: 0 0 8px rgba(6, 182, 212, 0.4);
    border: 1px solid var(--el-color-primary);
    background: rgba(6, 182, 212, 0.2);

    &:hover {
      background: rgba(6, 182, 212, 0.4);
      box-shadow: 0 0 15px rgba(6, 182, 212, 0.6);
      text-shadow: 0 0 2px #fff;
    }
  }

  .el-button--success {
    background: rgba(74, 222, 128, 0.2);
    border-color: var(--el-color-success);
    color: var(--el-color-success);
    box-shadow: 0 0 8px rgba(74, 222, 128, 0.4);
  }

  .el-button--danger {
    background: rgba(244, 63, 94, 0.2);
    border-color: var(--el-color-danger);
    color: var(--el-color-danger);
    box-shadow: 0 0 8px rgba(244, 63, 94, 0.4);
  }

  .el-button--default {
    background-color: rgba(15, 23, 42, 0.6);
    border: 1px solid var(--el-border-color);
    color: var(--el-text-color-primary);

    &:hover {
      border-color: var(--el-color-primary);
      color: var(--el-color-primary);
      box-shadow: 0 0 8px rgba(6, 182, 212, 0.4);
    }
  }

  /* 4. 输入框 (El-Input) - 科技线框 */
  .el-input__wrapper {
    background-color: rgba(15, 23, 42, 0.6);
    box-shadow: 0 0 0 1px var(--el-border-color) inset;
    border-radius: 0;

    &.is-focus {
      box-shadow: 0 0 0 1px var(--el-color-primary) inset, 0 0 10px rgba(6, 182, 212, 0.2);
    }

    &.is-disabled {
      background-color: rgba(15, 23, 42, 0.3);
      color: var(--el-text-color-secondary);
    }

    .el-input__inner {
      color: var(--el-text-color-regular);
      background-color: transparent !important;

      &::placeholder {
        color: var(--el-text-color-secondary);
      }
    }

    .el-input__suffix,
    .el-input__prefix {
      color: var(--el-text-color-secondary);
    }
  }

  /* 5. Tag/Badge - 荧光效果 */
  .el-tag {
    border-radius: 0;
    border-width: 1px;
    background-color: transparent;

    &.el-tag--success {
      border-color: var(--el-color-success);
      color: var(--el-color-success);
      box-shadow: 0 0 5px rgba(74, 222, 128, 0.3);
    }

    &.el-tag--warning {
      border-color: var(--el-color-warning);
      color: var(--el-color-warning);
      box-shadow: 0 0 5px rgba(250, 204, 21, 0.3);
    }

    &.el-tag--primary {
      border-color: var(--el-color-primary);
      color: var(--el-color-primary);
      box-shadow: 0 0 5px rgba(6, 182, 212, 0.3);
    }
  }

  /* 6. 下拉框和选择器 */
  .el-select {
    .el-input .el-input__wrapper,
    .el-input__wrapper {
      background-color: rgba(15, 23, 42, 0.6) !important;
      box-shadow: 0 0 0 1px var(--el-border-color) inset !important;
      border-radius: 0 !important;

      &.is-focus {
        box-shadow: 0 0 0 1px var(--el-color-primary) inset, 0 0 10px rgba(6, 182, 212, 0.2) !important;
      }

      &.is-disabled {
        background-color: rgba(15, 23, 42, 0.3) !important;
      }
    }

    .el-input__inner {
      color: var(--el-text-color-regular) !important;
      background-color: transparent !important;

      &::placeholder {
        color: var(--el-text-color-secondary) !important;
      }
    }

    .el-select__caret,
    .el-input__suffix-inner {
      color: var(--el-text-color-secondary) !important;
    }

    .el-select__suffix {
      background-color: transparent !important;
    }
  }

  /* 全局输入框包装器覆盖 */
  .el-input .el-input__wrapper {
    background-color: rgba(15, 23, 42, 0.6) !important;
  }

  .el-select-dropdown {
    background-color: #1a1f3a !important;
    border: 1px solid rgba(6, 182, 212, 0.3) !important;
    box-shadow: 0 0 15px rgba(6, 182, 212, 0.3) !important;

    .el-select-dropdown__wrap {
      background-color: transparent !important;
    }
  }

  .el-select-dropdown__item {
    color: var(--el-text-color-regular) !important;
    background-color: transparent !important;

    &:hover {
      background-color: rgba(6, 182, 212, 0.1) !important;
    }

    &.is-selected {
      background-color: rgba(6, 182, 212, 0.2) !important;
      color: var(--el-color-primary) !important;
      box-shadow: 0 0 10px rgba(6, 182, 212, 0.2) inset;
    }

    &.is-hovering {
      background-color: rgba(6, 182, 212, 0.1) !important;
    }
  }

  /* 7. 文本域 */
  .el-textarea {
    .el-textarea__inner {
      background-color: rgba(15, 23, 42, 0.6);
      border-color: var(--el-border-color);
      color: var(--el-text-color-regular);
      box-shadow: 0 0 0 1px var(--el-border-color) inset;

      &:focus {
        border-color: var(--el-color-primary);
        box-shadow: 0 0 0 1px var(--el-color-primary) inset, 0 0 10px rgba(6, 182, 212, 0.2);
      }
    }
  }

  /* 8. 对话框 */
  .el-dialog {
    background: #1e293b;
    border: 1px solid var(--el-border-color);
    box-shadow: 0 0 30px rgba(6, 182, 212, 0.3);

    .el-dialog__header {
      border-bottom: 1px solid var(--el-border-color);
    }

    .el-dialog__title {
      color: var(--el-color-primary);
      text-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
    }

    .el-dialog__body {
      color: var(--el-text-color-regular);
    }
  }

  /* 9. 消息框 */
  .el-message-box {
    background-color: #1e293b;
    border: 1px solid var(--el-border-color);
    box-shadow: 0 0 30px rgba(6, 182, 212, 0.3);

    .el-message-box__title {
      color: var(--el-color-primary);
      text-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
    }

    .el-message-box__content {
      color: var(--el-text-color-regular);
    }
  }

  /* 10. 加载遮罩 */
  .el-loading-mask {
    background-color: rgba(10, 14, 39, 0.8);
  }

  .el-loading-spinner .circular {
    stroke: var(--el-color-primary);
    filter: drop-shadow(0 0 5px var(--el-color-primary));
  }

  /* 11. 骨架屏 */
  .el-skeleton {
    --el-skeleton-color: rgba(6, 182, 212, 0.1);
    --el-skeleton-to-color: rgba(6, 182, 212, 0.2);
  }

  /* 12. 链接 */
  .el-link {
    color: var(--el-color-primary);
    text-shadow: 0 0 5px rgba(6, 182, 212, 0.5);

    &:hover {
      color: #22d3ee;
    }
  }

  /* 13. 分页 */
  .el-pagination {
    button, .el-pager li {
      background-color: rgba(15, 23, 42, 0.6);
      border: 1px solid var(--el-border-color);
      color: var(--el-text-color-primary);

      &:hover {
        color: var(--el-color-primary);
        border-color: var(--el-color-primary);
        box-shadow: 0 0 5px rgba(6, 182, 212, 0.5);
      }

      &.is-active {
        color: var(--el-color-primary);
        border-color: var(--el-color-primary);
        box-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
      }
    }

    .el-pagination__sizes .el-input__wrapper,
    .el-pagination__jump .el-input__wrapper {
      background-color: rgba(15, 23, 42, 0.6) !important;
      box-shadow: 0 0 0 1px var(--el-border-color) inset !important;
    }

    .el-pagination__total,
    .el-pagination__jump {
      color: var(--el-text-color-regular);
    }
  }

  /* 14. 表单标签 */
  .el-form-item__label {
    color: var(--el-text-color-primary);
  }

  /* 15. 菜单 */
  .el-menu {
    background-color: #1e293b;
    border-right: 1px solid var(--el-border-color);
  }

  .el-menu-item {
    color: var(--el-text-color-primary);

    &:hover {
      background-color: rgba(6, 182, 212, 0.1);
      color: var(--el-color-primary);
    }

    &.is-active {
      background-color: rgba(6, 182, 212, 0.15);
      color: var(--el-color-primary);
      border-right: 2px solid var(--el-color-primary);
      box-shadow: inset 0 0 10px rgba(6, 182, 212, 0.3);
    }
  }

  /* 16. 标题发光 */
  h1, h2, h3, h4, h5, h6 {
    color: var(--el-color-primary);
    text-shadow: 0 0 10px rgba(6, 182, 212, 0.3);
  }

  /* 17. 描述列表 */
  .el-descriptions {
    border: 1px solid var(--el-border-color);
    box-shadow: 0 0 10px rgba(6, 182, 212, 0.1);

    .el-descriptions__label {
      background-color: rgba(11, 17, 32, 0.9) !important;
      color: var(--el-color-primary) !important;
      border-color: var(--el-border-color) !important;
    }

    .el-descriptions__content {
      background-color: rgba(15, 23, 42, 0.8) !important;
      color: var(--el-text-color-primary) !important;
      border-color: var(--el-border-color) !important;
    }
  }

  /* 18. 时间线 */
  .el-timeline {
    .el-timeline-item__timestamp {
      color: var(--el-text-color-secondary);
    }

    .el-timeline-item__node {
      background-color: var(--el-color-primary);
      box-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
    }

    .el-timeline-item__tail {
      border-left: 2px solid var(--el-border-color);
    }

    .el-timeline-item__wrapper {
      color: var(--el-text-color-regular);
    }
  }

  /* 19. 滑块 */
  .el-slider {
    --el-slider-main-bg-color: var(--el-color-primary);
    --el-slider-runway-bg-color: rgba(15, 23, 42, 0.6);

    .el-slider__button {
      border-color: var(--el-color-primary);
      box-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
    }
  }

  /* 20. 富文本编辑器 */
  .ql-toolbar {
    background-color: rgba(15, 23, 42, 0.6);
    border-color: var(--el-border-color) !important;

    .ql-stroke {
      stroke: var(--el-text-color-regular);
    }

    .ql-fill {
      fill: var(--el-text-color-regular);
    }

    .ql-picker-label {
      color: var(--el-text-color-regular);
    }
  }

  .ql-container {
    background-color: rgba(15, 23, 42, 0.6);
    border-color: var(--el-border-color) !important;

    .ql-editor {
      color: var(--el-text-color-regular);

      &.ql-blank::before {
        color: var(--el-text-color-secondary);
      }
    }
  }

  /* 21. 任务详情页特殊样式 */
  .task-detail {
    .description-content {
      background: rgba(15, 23, 42, 0.6) !important;
      border: 1px solid var(--el-border-color);
      color: var(--el-text-color-regular);
      box-shadow: 0 0 10px rgba(6, 182, 212, 0.1);
    }

    .comment-item {
      background: rgba(15, 23, 42, 0.6) !important;
      border: 1px solid var(--el-border-color);
      box-shadow: 0 0 10px rgba(6, 182, 212, 0.1);

      .comment-header {
        strong {
          color: var(--el-color-primary);
        }

        .comment-time {
          color: var(--el-text-color-secondary);
        }
      }

      .comment-content {
        color: var(--el-text-color-regular);
      }
    }

    .transfer-message {
      color: var(--el-text-color-regular) !important;
    }
  }

  /* 22. Popper 弹出层 */
  .el-popper {
    background-color: #1a1f3a !important;
    border: 1px solid rgba(6, 182, 212, 0.3) !important;
    box-shadow: 0 0 15px rgba(6, 182, 212, 0.3) !important;
  }

  /* 23. 日期选择器 */
  .el-date-editor {
    .el-input__wrapper {
      background-color: rgba(15, 23, 42, 0.6) !important;
      box-shadow: 0 0 0 1px var(--el-border-color) inset !important;
    }

    .el-input__inner {
      color: var(--el-text-color-regular) !important;
    }

    .el-input__prefix, .el-input__suffix {
      color: var(--el-text-color-secondary) !important;
    }
  }

  .el-picker__popper {
    background-color: #1a1f3a !important;
    border: 1px solid rgba(6, 182, 212, 0.3) !important;
    box-shadow: 0 0 15px rgba(6, 182, 212, 0.3) !important;

    .el-picker-panel {
      background-color: #1a1f3a !important;
      color: var(--el-text-color-regular) !important;
    }

    .el-date-picker__header {
      color: var(--el-color-primary) !important;

      .el-date-picker__header-label {
        color: var(--el-color-primary) !important;

        &:hover {
          color: #22d3ee !important;
        }
      }

      .el-picker-panel__icon-btn {
        color: var(--el-text-color-secondary) !important;

        &:hover {
          color: var(--el-color-primary) !important;
        }
      }
    }

    .el-date-table th {
      color: var(--el-text-color-secondary) !important;
      border-bottom: 1px solid var(--el-border-color) !important;
    }

    .el-date-table td {
      .el-date-table-cell {
        color: var(--el-text-color-regular) !important;
      }

      &.today .el-date-table-cell__text {
        color: var(--el-color-primary) !important;
      }

      &.current .el-date-table-cell__text {
        background-color: var(--el-color-primary) !important;
        color: #fff !important;
        box-shadow: 0 0 10px rgba(6, 182, 212, 0.5);
      }

      &:hover .el-date-table-cell {
        background-color: rgba(6, 182, 212, 0.1) !important;
      }
    }

    .el-time-spinner__item {
      color: var(--el-text-color-regular) !important;

      &:hover {
        background-color: rgba(6, 182, 212, 0.1) !important;
      }

      &.is-active {
        color: var(--el-color-primary) !important;
      }
    }

    .el-picker-panel__footer {
      border-top: 1px solid var(--el-border-color) !important;
      background-color: #1a1f3a !important;
    }
  }
}

// 主题切换平滑过渡
* {
  transition: background-color 0.3s ease-in-out,
              color 0.3s ease-in-out,
              border-color 0.3s ease-in-out,
              box-shadow 0.3s ease-in-out;
}
